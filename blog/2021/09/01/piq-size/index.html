<!DOCTYPE html>
<html lang="en">
	<head>
	<script type="text/javascript">
		var userLang = navigator.language || navigator.userLanguage;
		console.log(window.location.pathname);
		if (userLang.startsWith("zh") && window.location.pathname == "/") {
				window.location.href = '/zh/';
		}
	</script>
    <script type="text/javascript" src="//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script type="text/javascript">window.dojoRequire(["mojo/signup-forms/Loader"], function(L) { L.start({"baseUrl":"mc.us4.list-manage.com","uuid":"6ace4137554cb923d96ec92c7","lid":"36ce78d7a8","uniqueMethods":true}) })</script>
    <script async src="https://cdn.splitbee.io/sb.js"></script>

	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
	<title>Small image compression size comparison between Jpeg and Webp | Lomorage</title>
	<link href="https://fonts.googleapis.com/css?family=Lato:400" rel="stylesheet" />
	<script defer src="https://use.fontawesome.com/releases/v5.15.3/js/all.js"></script>

	
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HZV662YYMW"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-HZV662YYMW', { 'anonymize_ip': false });
}
</script>

    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
    <link rel="apple-touch-icon" href="/img/apple-touch-icon.png" />

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

	

	<link rel="stylesheet" type="text/css" href="/css/style.a2d4ddf024fd938e5bbbf2d62c2f17987b805f53b4cc89d360109c27d51e9458.min.css" />
</head>

	<body>
		
<div class="navbar navbar--extended">
	<nav class="nav__mobile"></nav>
	<div class="container">
		<div class="navbar__inner">
			<a href="/" class="navbar__logo">Lomorage </a>
			<nav class="navbar__menu">
				
				<ul>
					
					
					<li><a href="/">Home</a></li>
					
					
					
					<li><a href="https://lomosw.lomorage.com/en/index.html" class="button button__accent">Download Now</a></li>
					
					
					
					<li><a href="/survey/">Survey</a></li>
					
					
					
					<li><a href="/faq/">FAQ</a></li>
					
					
					
					<li><a href="/blog/">Blog</a></li>
					
					
					
					<li><a href="/contact/">Contact</a></li>
					
					
				</ul>
			</nav>
			
			<div class="navbar__menu-mob"><a href="" id='toggle'><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z" class=""></path></svg></a></div>
		</div>
	</div>
</div>



		

<div class="page__header">
	<div class="hero__overlay hero__overlay--gradient"></div>
	<div class="hero__mask"></div>
	<div class="page__header__inner">
		<div class="container">
			<div class="page__header__content">
				<div class="page__header__content__inner" id="navConverter">
					<h1 class="page__header__title">Small image compression size comparison between Jpeg and Webp</h1>
					
				</div>
			</div>
		</div>
	</div>
</div>

<div class="page">
	<div class="container">
		<div class="page__inner">
			
			
			<div class="page__main">
				<div class="text-container"><h2 id="motivation">Motivation</h2>
<p>Lomorage is free private photo cloud solution that puts you in control of your photos and videos. To get best user experience among different platforms, such as iOS, Android, web, it utilizes smaller size thumbnail image to allow the clients to load image faster initially.</p>
<p>At the same time, unlike desktop applications, mobile clients have limited storage, and a good mobile application should take it into consideration and provide better user experience while require system resources as little as possible. Thus, we need a image format which has better compression performance and is widely adopted by majority browsers and native clients.</p>
<p>Many blogs did comparison between JPEG and Webp, but either the number of samples are less, or reports are not focus on smaller size images. In addition, not many blogs compare the performance of Mozilla’s improved <a href="https://calendar.perfplanet.com/2014/mozjpeg-3-0/">MozJPEG</a> encoder. Thus, we decided to run the comparison by ourselves based on our own personal image datasets.</p>
<h2 id="test-engivonment">Test Engivonment</h2>
<h3 id="image-codec">Image codec</h3>
<ul>
<li>Independent JPEG Group’s <a href="https://linux.die.net/man/1/cjpeg">cjpeg</a></li>
<li>Mozilla’s improved <a href="https://calendar.perfplanet.com/2014/mozjpeg-3-0/">MzJPEG</a> encoder</li>
<li><a href="https://launchpad.net/ubuntu/+source/libwebp">Webp</a></li>
</ul>
<h3 id="test-image-datasets">Test image datasets</h3>
<ul>
<li>All test images are personal photos taken by mobile phone and digital camera</li>
<li>Total number: 8000</li>
</ul>
<h2 id="test-result">Test Result</h2>
<h3 id="width-320">Width 320</h3>
<p>All thumbnails are generated by keeping same aspect ratio. 320 is selected as default width for the sake of tradeoff between image size and quality.</p>
<p>From the chart, we can see the MzJPG codec has more improvement than regular IJG codec, and similar as Webp codec. It is understandable because of the small image size.
<img src="/img/blog/image-quality/320_size.png" alt="Image size comparison among IJG, MzJPG, webp"></p>
<p>This chart is saving percentage comparision between 2 JPEG codec and webp.
<img src="/img/blog/image-quality/320_perc.png" alt="Image average comparison"></p>
<h3 id="width-640">Width 640</h3>
<p>For larger size image, webp has even better performance than regular IJG codec, also better than Mozillar enhanced version.
<img src="/img/blog/image-quality/640_size.png" alt="Image size comparison among IJG, MzJPG, webp">
<img src="/img/blog/image-quality/640_perc.png" alt="Image average comparison"></p>
<h3 id="summary">Summary</h3>
<h4 id="average-size-comparison">Average Size Comparison</h4>
<p>Below table gives the summary average size in Byte, and average saving percentage if using webp, which is average((JPG size - Webp size) / Webp size).





<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Width</th>
<th>Average Byte (IJG)</th>
<th>Average Byte (MzJPG)</th>
<th>Average Byte (Webp)</th>
<th>Saving % (IJG)</th>
<th>Saving % (MzJPG)</th>
</tr>
</thead>
<tbody>
<tr>
<td>320</td>
<td>15765</td>
<td>12337</td>
<td>11027</td>
<td>50.74%</td>
<td>16.95%</td>
</tr>
<tr>
<td>640</td>
<td>50224</td>
<td>42385</td>
<td>35547</td>
<td>55.15%</td>
<td>30.38%</td>
</tr>
</tbody>
</table>
</p>
<ul>
<li>Webp has much better performance than standard IJG codec for both size</li>
<li>For smaller size, the compression difference between Webp and Mozilla improved codec has not much difference, but for bigger size images, difference becomes noticeable.</li>
</ul>
<h4 id="total-storage-size-comparison">Total Storage Size Comparison</h4>
<p>Assuming 10,000 images, total storage needed for different size thumbnail would be as below</p>





<table class="table table-striped table-bordered">
<thead>
<tr>
<th>Width</th>
<th>Total MB (IJG)</th>
<th>Total MB (MzJPG)</th>
<th>Total MB (Webp)</th>
<th>Saving MB (MzJPG/IJG)</th>
<th>Saving MB (Webp/IJG)</th>
<th>Saving MB (Webp/MzJPG)</th>
</tr>
</thead>
<tbody>
<tr>
<td>320</td>
<td>157.65</td>
<td>123.37</td>
<td>110.27</td>
<td>34.28</td>
<td>47.38</td>
<td>13.1</td>
</tr>
<tr>
<td>640</td>
<td>502.24</td>
<td>423.85</td>
<td>355.47</td>
<td>78.39</td>
<td>146.77</td>
<td>68.38</td>
</tr>
</tbody>
</table>

<ul>
<li>If using width 320, it is small saving between Mozilla improved version and webp</li>
<li>If using width 640, it has a little saving between Mozilla improved version and webp</li>
<li>Lomorage is trying hard to optimize photo storage for mobile client. 400M thumbnail space is still high for some small storage mobile phones, so it will stick to 320 as thumbnail size.</li>
<li>Considering jpg is more widely supported by different OS and more recognized by normal people, so lomorage will choose jpeg as thumbnail format, and use the improved mozillar codec during generation.</li>
<li>When small storage mobile phones start phase-out , lomorage will switch to 640 or larger size as thumbnail size, and consider to migrate to webp</li>
</ul>
<h2 id="future-work">Future work</h2>
<p>This post is mainly focus on file size compression. We&rsquo;ll run some image virual quality benchmark among 3 codec, such as SSIM, BRISQUE, PSNR, etc, and make another post to show the difference. Thanks!</p>
</div>

				
				<div id="comments">
					<div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "lomorage" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
				</div>
			
			</div>
			

			
		</div>
	</div>
</div>



		<div class="footer footer--dark">
	<div class="container">
		<div class="footer__inner">
			<a href="/" class="footer__textLogo">Lomorage</a>

			<div class="footer__data">
				<div class="footer__data__item">
					
					<div class="footer__row"><a href="https://github.com/lomorage/homepage" target="_blank" style="opacity: 1;"><i class='fab fa-2x fa-github'></i></a></div>
					
				</div>
				<div class="footer__data__item">
					
				</div>
				<div class="footer__data__item">
					
					<div class="footer__row"><a href="mailto:support@lomorage.com" target="_blank" style="opacity: 1;"><i class='fa fa-2x fa-envelope'></i></a></div>
					
				</div>
			</div>
		</div>

		<div class="footer__inner">
			
		</div>
		
	</div>
</div>


		<script
	src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
	integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
	crossorigin="anonymous"
></script>

<script src="https://unpkg.com/ionicons@4.4.7/dist/ionicons.js"></script>

<div class="scripts">
	
	
	
	
	<script type="text/javascript" src="/js/scripts.min.caff6ee377cf7b5bba65c3bf59df8c4cf6195bd8ee6d3a05bd557591a16bac13.js"></script>
</div>


		<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9742347659519137"
     crossorigin="anonymous"></script>
	</body>
</html>
